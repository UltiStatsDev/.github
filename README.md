# Ultimate Frisbee Stats

**Ultimate Frisbee Stats** — это современное веб-приложение для ведения статистики по алтимат-фрисби в реальном времени.  
Система ориентирована на удобство для стаффа: быстрый ввод событий, мгновенное обновление статистики, удобная интеграция с другими сервисами и простота масштабируемости.

---

## Основные возможности

- **Фиксация игровых событий в реальном времени** (пасы, голы, перебития, блоки, перехваты, потери и пр.)
- **Персональная статистика по игрокам** (голевые пасы, голы, потери, блоки, перехваты, кэллаханы и др.)
- **Командная статистика**: очки, брейки, эффективность передач, эффективность владения и др.
- **Ведение лога событий** с привязкой к игровому времени (с учетом таймаутов)
- **Импорт и экспорт логов матчей** (форматы: JSON, CSV)
- **Редактирование событий матча** до и после игры
- **Быстрое и удобное UI** (шорткаты, быстрый ввод, отмена событий, повторный ввод)
- **Поддержка расширения списка событий** (например, нарушения, кастомные события)
- **Основа для интеграции с OBS и сайтами-агрегаторами турниров и команд**
- **API-документация через Swagger/OpenAPI**

---

## Текущая реализация ядра

Микроядро на Kotlin (Spring Boot):

- **Только статeless-логи:** события — first class citizen, вся статистика построена на их агрегации
- Простая расширяемая модель событий (sealed class/интерфейсы)
- Вся статистика вычисляется поверх лога событий, никаких дублирующихся состояний
- Временная модель: ведётся "игровое время", поддержка пауз/таймаутов (время “на паузе” не учитывается)
- Шаблоны экспорта/импорта: JSON (event log + match meta)

---

## Технологический стек

- **Backend:** Kotlin, Spring Boot, Gradle
- **Тесты:** JUnit 5, MockK, AssertJ, SpringMockMvc
- **Документация API:** springdoc-openapi (Swagger UI)
- **Логирование:** Logback
- **Frontend:** ReactJS (реализация отдельно)
- **Форматы обмена:** JSON (основной), в перспективе — CSV для табличных статистик

---

## Структура событий

- **Атака:** владение, пуллы, передачи (от кого — кому), голевые пасы, голы, потери (на броске/приёме), спасения
- **Защита:** блок на маркере, перебитие, перехват, кэллахан
- **Системные:** таймауты (старт/конец), начало/конец матча

Каждое событие содержит: тип, команду, время, связанных игроков, доп.параметры (гол, спасение и т.д.)

---

## Потенциальные будущие разработки

- Интеграция с API [Ultisport](https://ultisport.ru) для получения информации о:
  - текущем турнире;
  - текущем матче;
  - командах турнира;
  - игроках команд турнира.
- Добавление возможности вносить события об объявлениях, останавливающих игру, к которым относятся:
  - фолы;
  - пики;
  - диск-спейсы;
  - ...
- Расширение API для получения информации о статистике для оверлеев OBS.
- Улучшение пользовательского опыта в рамках быстроты и простоты сбора игровой статистики в реальном времени.
- Добавление импорта/экспорта файлов с логами событий матча.
- Редактирование логов событий матча до/после матча.
- Отображение статистики по результатам матча в человекочитаемом виде с возможностью экспортировать статистику в формате `.csv`.
- Добавить сохранение информации о прошедших матчах.
- Авторизация и аутентификация.
- ...
